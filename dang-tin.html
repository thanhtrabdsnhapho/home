<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Đăng bài - Thanh Tra BĐS</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body { background-color: #f4f4f4; padding: 20px; }
        .form-container { background: #fff; padding: 30px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); max-width: 800px; margin: auto; }
        .section-title { border-left: 4px solid #e03c31; padding-left: 10px; margin-top: 25px; margin-bottom: 20px; font-weight: bold; color: #2c2c2c; }
        .btn-post { background-color: #e03c31; color: white; width: 100%; font-weight: bold; padding: 12px; border: none; }
        .btn-post:hover { background-color: #c43229; color: white; }
    </style>
</head>
<body>

<div class="form-container">
    <h2 class="text-center mb-4">Đăng tin rao bán nhà phố</h2>

    <form id="postForm">
        <div class="section-title">Vị trí Bất động sản</div>
        <div class="row">
            <div class="col-md-3 mb-3">
                <label class="form-label">Số Nhà</label>
                <input type="text" name="sonha" class="form-control" placeholder="01" required>
            </div>
            <div class="col-md-9 mb-3">
                <label class="form-label">Đường/Phố</label>
                <input type="text" name="duongpho" class="form-control" placeholder="Võ Văn Ngân" required>
            </div>
            <div class="col-md-6 mb-3">
                <label class="form-label">Phường/Xã</label>
                <input type="text" name="phuongxa" class="form-control" placeholder="Linh Chiểu" required>
            </div>
            <div class="col-md-6 mb-3">
                <label class="form-label">Quận/Huyện - Tỉnh/Thành</label>
                <input type="text" name="tinhthanh" class="form-control" placeholder="Thủ Đức, TP.HCM" required>
            </div>
        </div>

        <div class="section-title">Nội dung tin đăng</div>
        <div class="mb-3">
            <label class="form-label">Tiêu đề bài viết</label>
            <input type="text" name="title" class="form-control" placeholder="VD: Bán nhà phố hẻm xe hơi Quận 1" required>
        </div>
        <div class="mb-3">
            <label class="form-label">Nội dung mô tả chi tiết</label>
            <textarea name="description" class="form-control" rows="5" placeholder="Mô tả ưu điểm, pháp lý..."></textarea>
        </div>

        <div class="section-title">Thông số chi tiết</div>
        <div class="row">
            <div class="col-md-4 mb-3">
                <label class="form-label">Diện tích (m²)</label>
                <input type="number" name="area" class="form-control" placeholder="50">
            </div>
            <div class="col-md-4 mb-3">
                <label class="form-label">Mức giá (Tỷ)</label>
                <input type="text" name="price" class="form-control" placeholder="5.5">
            </div>
            <div class="col-md-4 mb-3">
                <label class="form-label">Số phòng ngủ</label>
                <select name="bedroom" class="form-select">
                    <option value="Không Xác Định">Chọn số phòng</option>
                    <option value="1">1 phòng</option>
                    <option value="2">2 phòng</option>
                    <option value="3">3 phòng</option>
                    <option value="4">4 phòng</option>
                    <option value="5">5 phòng</option>
                    <option value="6+">Trên 6 phòng</option>
                 </select>
            </div>
            <div class="col-md-4 mb-3">
                <label class="form-label">Số WC</label>
                <select name="nhavesinh" class="form-select">
                    <option value="Không Xác Định">Chọn số WC</option>
                    <option value="1">1 WC</option>
                    <option value="2">2 WC</option>
                    <option value="3">3 WC</option>
                    <option value="4">4 WC</option>
                    <option value="5">5 WC</option>
                    <option value="6+">Trên 6 </option>
             </select>
            </div>
            <div class="col-md-4 mb-3">
                <label class="form-label">Hướng nhà</label>
                <select name="direction" class="form-select">
                    <option value="Không Xác Định">Chọn hướng</option>
                    <option value="Đông">Đông</option><option value="Tây">Tây</option>
                    <option value="Nam">Nam</option><option value="Bắc">Bắc</option>
                    <option value="Đông Nam">Đông Nam</option><option value="Tây Nam">Tây Nam</option>
                    <option value="Đông Bắc">Đông Bắc</option><option value="Tây Bắc">Tây Bắc</option>
                </select>
            </div>
        </div>

        <button type="submit" class="btn btn-post" id="submitBtn">ĐĂNG TIN NGAY</button>
    </form>
</div>

<script>
    const scriptURL = 'https://script.google.com/macros/s/AKfycbytJa0szz1iyjd9cApwRglNMcXTFIYgTsDYP7BCnOE0k-2vZVHVMFNUBkfu2S8Zq30QMw/exec';
    const form = document.getElementById('postForm');
    const btn = document.getElementById('submitBtn');

    form.addEventListener('submit', e => {
        e.preventDefault();
        btn.disabled = true;
        btn.innerHTML = "Đang gửi dữ liệu...";

        fetch(scriptURL, { method: 'POST', body: new FormData(form)})
            .then(response => {
                alert("Đăng tin thành công lên Google Sheets!");
                btn.disabled = false;
                btn.innerHTML = "ĐĂNG TIN NGAY";
                form.reset();
            })
            .catch(error => {
                alert("Lỗi kết nối! Vui lòng kiểm tra lại Script.");
                btn.disabled = false;
                btn.innerHTML = "ĐĂNG TIN NGAY";
            });
    });
</script>
</body>
</html>
